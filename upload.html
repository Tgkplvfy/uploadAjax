<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>uploadTest</title>
</head>
<body>
	<input type="file" id="file">
	<script>

		document.querySelector('input[type="file"]').addEventListener('change', function(e) {
			function upload(blobOrFile) {
			  	var data = new FormData();
				data.append("file", blobOrFile);
				data.append("start",0);
				// XMLHttpRequest 2.0 请求
				var xhr = new XMLHttpRequest();
				xhr.open("post", '/upload.php', true);
				xhr.setRequestHeader("X_Requested_With", location.href);
			  	xhr.send(data);
			}
		  	var blob = this.files[0];

		 	const BYTES_PER_CHUNK = 1024 * 1024; // 1MB chunk sizes.
		  	const SIZE = blob.size;

		  	var start = 0;
		  	var end = BYTES_PER_CHUNK;
		  	upload(blob.slice(start,end));
		}, false);
	</script>
</body>
</html>